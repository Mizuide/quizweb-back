<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="quizweb.domain.repository.mapper.TagMapper">
  <resultMap id="BaseResultMap" type="quizweb.domain.repository.entity.Tag">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Oct 16 02:39:48 UTC 2021.
    -->
    <id column="id" jdbcType="BIGINT" property="id" />
    <result column="tag" jdbcType="VARCHAR" property="tag" />
    <result column="num" jdbcType="BIGINT" property="num" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Oct 16 02:39:48 UTC 2021.
    --> id, tag, num </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Oct 16 02:39:48 UTC 2021.
    --> select <include
      refid="Base_Column_List" /> from tag where id = #{id,jdbcType=BIGINT} </select>

  <select id="selectListByTagContentList" parameterType="java.util.List" resultMap="BaseResultMap">
    select <include
      refid="Base_Column_List" /> from tag <where>
      <if test="list != null and list.size() != 0"> tag in <foreach item="tag" collection="list"
          open="(" close=")" separator=","> #{tag,jdbcType=VARCHAR} </foreach>
      </if>
    </where>
  </select>

  <select id="selectByTagContent" parameterType="java.lang.String" resultMap="BaseResultMap"> select <include
      refid="Base_Column_List" /> from tag <where> tag = #{content,jdbcType=VARCHAR} </where>
  </select>

  <select id="selectByPrefix" parameterType="java.lang.String" resultMap="BaseResultMap"> select <include
      refid="Base_Column_List" /> from tag <where> tag LIKE CONCAT(#{content,jdbcType=VARCHAR}, '%')
    and num &gt; 0 </where> order by num desc limit 10 </select>

  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Oct 16 02:39:48 UTC 2021.
    --> delete from tag where id =
    #{id,jdbcType=BIGINT} </delete>
  <insert id="insert" parameterType="quizweb.domain.repository.entity.Tag" keyProperty="id"
    useGeneratedKeys="true">
    <selectKey keyProperty="id" order="AFTER" resultType="java.lang.Long"> SELECT LAST_INSERT_ID() </selectKey>
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Oct 16 02:39:48 UTC 2021.
    -->
    insert into tag (id, tag, num) values (#{id,jdbcType=BIGINT}, #{tag,jdbcType=VARCHAR},
    #{num,jdbcType=BIGINT}) </insert>
  <insert id="insertList" parameterType="quizweb.domain.repository.entity.Tag" keyProperty="id"
    useGeneratedKeys="true">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Oct 16 02:39:48 UTC 2021.
    --> insert into tag (tag) values <foreach item="item"
      collection="list" separator=","> (#{item.tag,jdbcType=VARCHAR}) </foreach>
  </insert>
  <insert id="insertSelective" parameterType="quizweb.domain.repository.entity.Tag" keyProperty="id" useGeneratedKeys="true">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Oct 16 02:39:48 UTC 2021.
    --> insert into tag <trim
      prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null"> id, </if>
      <if test="tag != null"> tag, </if>
      <if test="num != null"> num, </if>
    </trim>
    <trim
      prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null"> #{id,jdbcType=BIGINT}, </if>
      <if test="tag != null">
    #{tag,jdbcType=VARCHAR}, </if>
      <if test="num != null"> #{num,jdbcType=BIGINT}, </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="quizweb.domain.repository.entity.Tag">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Oct 16 02:39:48 UTC 2021.
    -->
    update tag <set>
      <if test="tag != null"> tag = #{tag,jdbcType=VARCHAR}, </if>
      <if test="num != null"> num =
    #{num,jdbcType=BIGINT}, </if>
    </set> where id = #{id,jdbcType=BIGINT} </update>
  <update id="updateByPrimaryKey" parameterType="quizweb.domain.repository.entity.Tag">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Oct 16 02:39:48 UTC 2021.
    --> update tag
    set tag = #{tag,jdbcType=VARCHAR}, num = #{num,jdbcType=BIGINT} where id = #{id,jdbcType=BIGINT} </update>

  <update id="updateNum" parameterType="java.lang.Long"> update tag set num = num + 1 where id in <foreach
      item="item" collection="list" open="(" close=")" separator=","> #{item,jdbcType=BIGINT} </foreach>
  </update>
</mapper>